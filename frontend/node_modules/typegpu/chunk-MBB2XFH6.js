import{Ac as V,B as S,C as T,D,G as w,H as _,Hb as h,Ib as E,K as v,L as p,Lb as O,S as L,T as x,U as b,V as u,W as d,X as k,a as o,gb as $,hb as c,kb as W,vb as g,xb as z}from"./chunk-SHSILTWI.js";var R={f32:4,f16:2,i32:4,u32:4,bool:4,u16:2,vec2f:8,vec2h:4,vec2i:8,vec2u:8,vec2b:8,vec3f:16,vec3h:8,vec3i:16,vec3u:16,vec3b:16,vec4f:16,vec4h:8,vec4i:16,vec4u:16,vec4b:16,mat2x2f:8,mat3x3f:16,mat4x4f:16,atomic:4};function j(e){let t=e?.type,r=R[t];if(r!==void 0)return r;if(D(e))return Object.values(e.propTypes).map(s).reduce((n,a)=>n>a?n:a);if(T(e))return s(e.elementType);if(b(e)){let n=Object.values(e.propTypes)[0];return n?d(n)??1:1}if(x(e))return d(e.elementType)??1;if(p(e)||u(e))return d(e)??s(e.inner);if(O.has(t))return 1;throw new Error(`Cannot determine alignment of data: ${E(e)}`)}function G(e){if(b(e)){let t=Object.values(e.propTypes)[0];return t?y(t):1}return x(e)?y(e.elementType):u(e)?d(e)??y(e.inner):d(e)??1}var U=new WeakMap,C=new WeakMap;function s(e){let t=U.get(e);return t===void 0&&(t=j(e),U.set(e,t)),t}function y(e){let t=C.get(e);return t===void 0&&(t=G(e),C.set(e,t)),t}function ne(e){return s(e)}var f=(e,t)=>{let r=t-1,n=~r;return(e&r)===0?e:(e&n)+t};var K={bool:4,f32:4,f16:2,i32:4,u32:4,u16:2,vec2f:8,vec2h:4,vec2i:8,vec2u:8,"vec2<bool>":8,vec3f:12,vec3h:6,vec3i:12,vec3u:12,"vec3<bool>":12,vec4f:16,vec4h:8,vec4i:16,vec4u:16,"vec4<bool>":16,mat2x2f:16,mat3x3f:48,mat4x4f:64,uint8:1,uint8x2:2,uint8x4:4,sint8:1,sint8x2:2,sint8x4:4,unorm8:1,unorm8x2:2,unorm8x4:4,snorm8:1,snorm8x2:2,snorm8x4:4,uint16:2,uint16x2:4,uint16x4:8,sint16:2,sint16x2:4,sint16x4:8,unorm16:2,unorm16x2:4,unorm16x4:8,snorm16:2,snorm16x2:4,snorm16x4:8,float16:2,float16x2:4,float16x4:8,float32:4,float32x2:8,float32x3:12,float32x4:16,uint32:4,uint32x2:8,uint32x3:12,uint32x4:16,sint32:4,sint32x2:8,sint32x3:12,sint32x4:16,"unorm10-10-10-2":4,"unorm8x4-bgra":4,atomic:4};function H(e){let t=0,r=e.propTypes;for(let n of Object.values(r)){if(Number.isNaN(t))throw new Error("Only the last property of a struct can be unbounded");if(t=f(t,s(n)),t+=l(n),Number.isNaN(t)&&n.type!=="array")throw new Error("Cannot nest unbounded struct within another struct")}return f(t,s(e))}function q(e){let t=0,r=e.propTypes;for(let n of Object.values(r)){let a=y(n);t=f(t,a),t+=l(n)}return t}function J(e){let t=K[e?.type];if(t!==void 0)return t;if(D(e))return H(e);if(b(e))return q(e);if(T(e)){if(e.elementCount===0)return Number.NaN;let r=s(e.elementType);return f(l(e.elementType),r)*e.elementCount}if(x(e)){let r=y(e.elementType);return f(l(e.elementType),r)*e.elementCount}if(p(e)||u(e))return k(e)??l(e.inner);throw new Error(`Cannot determine size of data: ${e}`)}var N=new WeakMap;function l(e){let t=N.get(e);return t===void 0&&(t=J(e),N.set(e,t)),t}function ue(e){return l(e)}function m(e,t){return p(e)?new B(e.inner,[t,...e.attribs]):u(e)?new A(e.inner,[t,...e.attribs]):L(e)?new A(e,[t]):new B(e,[t])}function xe(e,t){return m(t,{[o]:!0,type:"@align",params:[e]})}function be(e,t){return m(t,{[o]:!0,type:"@size",params:[e]})}function ge(e,t){return m(t,{[o]:!0,type:"@location",params:[e]})}function Te(e,t){return m(t,{[o]:!0,type:"@interpolate",params:[e]})}function De(e){if(!Q(e))throw new Error("The @invariant attribute must only be applied to the position built-in value.");let t=p(e)||u(e)?e.attribs.find(v):void 0;if(!t||t.params[0]!=="position")throw new Error("The @invariant attribute must only be applied to the position built-in value.");return m(e,{[o]:!0,type:"@invariant",params:[]})}function Q(e){return(p(e)||u(e))&&e.attribs.find(v)!==void 0}function Ie(e){return!p(e)&&!u(e)?"":e.attribs.map(t=>t.params.length===0?`${t.type} `:`${t.type}(${t.params.join(", ")}) `).join("")}var I=class{constructor(t,r){this.inner=t;this.attribs=r;let n=r.find(w)?.params[0],a=r.find(_)?.params[0];if(n!==void 0){if(n<=0)throw new Error(`Custom data alignment must be a positive number, got: ${n}.`);if(Math.log2(n)%1!==0)throw new Error(`Alignment has to be a power of 2, got: ${n}.`);if(S(this.inner)&&n%s(this.inner)!==0)throw new Error(`Custom alignment has to be a multiple of the standard data alignment. Got: ${n}, expected multiple of: ${s(this.inner)}.`)}if(a!==void 0){if(a<l(this.inner))throw new Error(`Custom data size cannot be smaller then the standard data size. Got: ${a}, expected at least: ${l(this.inner)}.`);if(a<=0)throw new Error(`Custom data size must be a positive number. Got: ${a}.`)}}[o]=!0},B=class extends I{[o]=!0;type="decorated"},A=class extends I{[o]=!0;type="loose-decorated"};var F=h(((e,t)=>t===void 0?h(r=>P(e,r)):P(e,t))).$name("arrayOf");function P(e,t){let r=n=>{if(n&&n.length!==t)throw new Error(`Array schema of ${t} elements of type ${e.type} called with ${n.length} argument(s).`);return Array.from({length:t},(a,M)=>V(e,n?.[M]))};if(Object.setPrototypeOf(r,X),Number.isNaN(l(e)))throw new Error("Cannot nest runtime sized arrays.");if(r.elementType=e,!Number.isInteger(t)||t<0)throw new Error(`Cannot create array schema with invalid element count: ${t}.`);return r.elementCount=t,r}var X={[o]:!0,type:"array",toString(){return`arrayOf(${this.elementType}, ${this.elementCount})`}};function i(e,t){return m(e,{[o]:!0,type:"@builtin",params:[t]})}var ze={vertexIndex:i(c,"vertex_index"),instanceIndex:i(c,"instance_index"),position:i(z,"position"),clipDistances:i(F(c,8),"clip_distances"),frontFacing:i($,"front_facing"),fragDepth:i(W,"frag_depth"),sampleIndex:i(c,"sample_index"),sampleMask:i(c,"sample_mask"),localInvocationId:i(g,"local_invocation_id"),localInvocationIndex:i(c,"local_invocation_index"),globalInvocationId:i(g,"global_invocation_id"),workgroupId:i(g,"workgroup_id"),numWorkgroups:i(g,"num_workgroups"),subgroupInvocationId:i(c,"subgroup_invocation_id"),subgroupSize:i(c,"subgroup_size")};export{s as a,y as b,ne as c,f as d,l as e,ue as f,xe as g,be as h,ge as i,Te as j,De as k,Q as l,Ie as m,F as n,ze as o};
//# sourceMappingURL=chunk-MBB2XFH6.js.map