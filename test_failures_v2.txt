============================= test session starts ==============================
platform darwin -- Python 3.13.7, pytest-9.0.2, pluggy-1.6.0 -- /Library/Frameworks/Python.framework/Versions/3.13/bin/python3
cachedir: .pytest_cache
rootdir: /Users/obafemi/Documents/dev/brick
plugins: anyio-4.11.0, flask-1.3.0, langsmith-0.6.0
collecting ... collected 6 items

backend/tests/test_physics_kernel.py::TestPhysicsKernel::test_initialization FAILED [ 16%]
backend/tests/test_physics_kernel.py::TestPhysicsKernel::test_domains_loaded FAILED [ 33%]
backend/tests/test_physics_kernel.py::TestPhysicsKernel::test_constants_access PASSED [ 50%]
backend/tests/test_physics_kernel.py::TestPhysicsKernel::test_unit_conversion PASSED [ 66%]
backend/tests/test_physics_kernel.py::TestFluidDynamics::test_reynolds_number ERROR [ 83%]
backend/tests/test_physics_kernel.py::TestThermodynamics::test_heat_transfer_exists ERROR [100%]

==================================== ERRORS ====================================
___________ ERROR at setup of TestFluidDynamics.test_reynolds_number ___________

self = <test_physics_kernel.TestFluidDynamics object at 0x10d259e50>

    @pytest.fixture(autouse=True)
    def setup(self):
        self.kernel = get_physics_kernel()
>       self.fluids = self.kernel.domains.fluids
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^
E       AttributeError: 'dict' object has no attribute 'fluids'

backend/tests/test_physics_kernel.py:52: AttributeError
________ ERROR at setup of TestThermodynamics.test_heat_transfer_exists ________

self = <test_physics_kernel.TestThermodynamics object at 0x10d25a0d0>

    @pytest.fixture(autouse=True)
    def setup(self):
        self.kernel = get_physics_kernel()
>       self.thermo = self.kernel.domains.thermodynamics
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       AttributeError: 'dict' object has no attribute 'thermodynamics'

backend/tests/test_physics_kernel.py:72: AttributeError
=================================== FAILURES ===================================
____________________ TestPhysicsKernel.test_initialization _____________________

self = <test_physics_kernel.TestPhysicsKernel object at 0x10d259bd0>

    def test_initialization(self):
        """Test that the physics kernel initializes correctly with all providers"""
        assert self.kernel is not None
        assert self.kernel.providers is not None
>       assert 'fphysics' in self.kernel.providers
E       AssertionError: assert 'fphysics' in {'analytical': <backend.physics.providers.physipy_provider.PhysiPyProvider object at 0x10da71160>, 'constants': <backend.physics.providers.fphysics_provider.FPhysicsProvider object at 0x10da71010>, 'materials': <backend.physics.providers.coolprop_provider.CoolPropProvider object at 0x1169b27b0>, 'numerical': <backend.physics.providers.scipy_provider.SciPyProvider object at 0x114b396a0>, ...}
E        +  where {'analytical': <backend.physics.providers.physipy_provider.PhysiPyProvider object at 0x10da71160>, 'constants': <backend.physics.providers.fphysics_provider.FPhysicsProvider object at 0x10da71010>, 'materials': <backend.physics.providers.coolprop_provider.CoolPropProvider object at 0x1169b27b0>, 'numerical': <backend.physics.providers.scipy_provider.SciPyProvider object at 0x114b396a0>, ...} = <physics.kernel.UnifiedPhysicsKernel object at 0x10da70d70>.providers
E        +    where <physics.kernel.UnifiedPhysicsKernel object at 0x10da70d70> = <test_physics_kernel.TestPhysicsKernel object at 0x10d259bd0>.kernel

backend/tests/test_physics_kernel.py:20: AssertionError
------------------------------ Captured log setup ------------------------------
ERROR    backend.llm.factory:factory.py:46 No working LLM API Keys (OPENAI_API_KEY, GROQ_API_KEY) or Packages found.
WARNING  physics.kernel:kernel.py:318 Could not load LLM provider: No working LLM API Keys (OPENAI_API_KEY, GROQ_API_KEY) or Packages found.
ERROR    backend.models.material_net:material_net.py:145 Failed to load weights: 'b1'
____________________ TestPhysicsKernel.test_domains_loaded _____________________

self = <test_physics_kernel.TestPhysicsKernel object at 0x10d259f90>

    def test_domains_loaded(self):
        """Test that all physics domains are loaded"""
        assert self.kernel.domains is not None
>       assert self.kernel.domains.fluids is not None
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
E       AttributeError: 'dict' object has no attribute 'fluids'

backend/tests/test_physics_kernel.py:26: AttributeError
=========================== short test summary info ============================
FAILED backend/tests/test_physics_kernel.py::TestPhysicsKernel::test_initialization
FAILED backend/tests/test_physics_kernel.py::TestPhysicsKernel::test_domains_loaded
ERROR backend/tests/test_physics_kernel.py::TestFluidDynamics::test_reynolds_number
ERROR backend/tests/test_physics_kernel.py::TestThermodynamics::test_heat_transfer_exists
==================== 2 failed, 2 passed, 2 errors in 55.19s ====================
